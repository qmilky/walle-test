<?php    // 商品控制器namespace Home;use DB;    class GoodsController    {        // 商品列表页        public function index()        {            $db = new DB('shop_goods');            // 拿数据            if (!empty($_GET['cid'])) {              $cid = $_GET['cid'];                            // 获取子类, 如果没有子类返回一个空数组              $subcate =(new DB('shop_cate'))->where(" path like '%,$cid,%' ") -> select();                            // 获取cid字段,生成一个新数组              $cid_arr = array_column($subcate, 'cid');                            // 把原始传过来的CID 压入数组              array_push($cid_arr, $cid);                                          // 通过拼接,生成条件字符串              $str = 'cid in('.implode(',', $cid_arr).')';  // cid in(3,6,8,12)                            $db -> where($str);                          }                        // // 时间条件            // if(){                // $db -> where(一些条件);            // }                        // // 价格条件            // if (){                // $db - > where(一些条件)            // }                                   $goods = $db->select();            // echo '<pre>';            // print_r($goods);            // echo '</pre>';                        // 显示页面            include('./Views/Home/Goods/goodslist.html');        }                // 详情页        public function show()        {            // 拿数据            $gid = $_GET['gid'];            $goods = (new DB('shop_goods')) -> where("gid=$gid") -> find();                        // 生成一个随机字符串, 为了防止页面刷新时数量累加            $token = uniqid('h2o_',true);                        // 引入模板            include('./Views/Home/Goods/show.html');        }            }